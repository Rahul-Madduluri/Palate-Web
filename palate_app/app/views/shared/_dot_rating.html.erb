<div class = "personal_rating">
	<span class = "rating_dot red_dot">
		<%= render partial: 'shared/dot_form', locals: { media: media, rating: 0.2, dot_png: 'red_dot' } %>
	</span>
	<span class = "rating_dot yellow_dot">
		<%= render partial: 'shared/dot_form', locals: { media: media, rating: 0.4, dot_png: 'yellow_dot' } %>
	</span>
	<span class = "rating_dot green_dot">
		<%= render partial: 'shared/dot_form', locals: { media: media, rating: 0.6, dot_png: 'green_dot' } %>
	</span>
	<span class = "rating_dot blue_dot">
		<%= render partial: 'shared/dot_form', locals: { media: media, rating: 0.8, dot_png: 'blue_dot' } %>
	</span>
	<span class = "rating_dot purple_dot">
		<%= render partial: 'shared/dot_form', locals: { media: media, rating: 1.0, dot_png: 'purple_dot' } %>
	</span>
</div>


<script>
	// Variable to set the duration of the animation
	
	// Handle the hover events
	$(".red_dot").hover(function() {
		$(this).siblings().stop().fadeOut();
	},
	function() {
		var media_rating = current_user.rating_for(media)
		if (media_rating == 0.4)
			$(this).siblings().fadeIn();
	});

	$(".yellow_dot").hover(function() {
		$(this).siblings(".green_dot").stop().fadeOut();
		$(this).siblings(".blue_dot").stop().fadeOut();
		$(this).siblings(".purple_dot").stop().fadeOut();
	},
	function() {
		$(this).siblings(".green_dot").fadeIn();
		$(this).siblings(".blue_dot").fadeIn();
		$(this).siblings(".purple_dot").fadeIn();
	});

	$(".green_dot").hover(function() {
		$(this).siblings(".blue_dot").stop().fadeOut();
		$(this).siblings(".purple_dot").stop().fadeOut();
	},
	function() {
		$(this).siblings(".blue_dot").fadeIn();
		$(this).siblings(".purple_dot").fadeIn();
	});

	$(".blue_dot").hover(function() {
		$(this).siblings(".purple_dot").stop().fadeOut();
	},
	function() {
		$(this).siblings(".purple_dot").fadeIn();
	});
	/*
	// Prevent the click event and show the rating
	$(".red_dot").click(function() {
		$(this).unbind('mouseenter mouseleave');
		$(this).siblings().unbind('mouseenter mouseleave');
		$(this).unbind('click');
		$(this).siblings().unbind('click');
	});

	$(".yellow_dot").click(function() {
		$(this).unbind('mouseenter mouseleave');
		$(this).siblings().unbind('mouseenter mouseleave');
		$(this).unbind('click');
		$(this).siblings().unbind('click');
	});

	$(".green_dot").click(function() {
		$(this).unbind('mouseenter mouseleave');
		$(this).siblings().unbind('mouseenter mouseleave');
		$(this).unbind('click');
		$(this).siblings().unbind('click');
	});

	$(".blue_dot").click(function() {
		$(this).unbind('mouseenter mouseleave');
		$(this).siblings().unbind('mouseenter mouseleave');
		$(this).unbind('click');
		$(this).siblings().unbind('click');
	});
	*/


	

      
</script>


